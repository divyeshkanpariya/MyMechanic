<div class="my-3">
<form class="example-form" [formGroup]="addNewGarageForm">
    <div class="row">
        <div class="col-sm-6">
            <mat-form-field class="w-100">
                <mat-label>Garage Name</mat-label>
                <input matInput formControlName="name">
                <mat-error *ngIf="!addNewGarageForm.controls.name.valid">
                    Please enter a valid Garage Name
                  </mat-error>
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field class="w-100">
                <mat-label>Postal Code</mat-label>
                <input matInput formControlName="postalCode">
                <mat-error *ngIf="!addNewGarageForm.controls.postalCode.valid">
                    Please enter a valid Postal Code
                  </mat-error>
            </mat-form-field>
        </div>
        <div class="col-sm-12">
            <mat-form-field class="w-100">
                <mat-label>Address Line</mat-label>
                <input matInput formControlName="address">
                <mat-error *ngIf="!addNewGarageForm.controls.address.valid">
                    Please enter a valid Address
                  </mat-error>
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field class="w-100">
                <mat-label>Select State</mat-label>
                <mat-select formControlName="state">
                    <mat-option *ngFor="let item of states" [value]="item.id">{{item.name}}</mat-option>
                </mat-select>
                <mat-error *ngIf="!addNewGarageForm.controls.state.valid">
                    Please select State
                  </mat-error>
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field class="w-100"> 
                <mat-label>Select City</mat-label>
                <mat-select formControlName="city" [disabled]="!addNewGarageForm.controls.state.valid">
                    <mat-option *ngFor="let item of cities"[value]="item.id">{{item.name}}</mat-option>
                </mat-select>
                <mat-error *ngIf="!addNewGarageForm.controls.city.valid">
                    Please select CIty
                  </mat-error>
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field class="w-100"> 
                <mat-label>Open Time</mat-label>
                <input type="time" matInput formControlName="startingTime">
                <mat-error *ngIf="!addNewGarageForm.controls.startingTime.valid">
                    Please select CIty
                </mat-error>
            </mat-form-field>
        </div>
        <div class="col-sm-6">
            <mat-form-field class="w-100"> 
                <mat-label>Close Time</mat-label>
                <input type="time" matInput formControlName="endingTime">
                <mat-error *ngIf="!addNewGarageForm.controls.endingTime.valid">
                    Please select CIty
                </mat-error>
            </mat-form-field>
        </div>
        <div class="col-12">
            <mat-form-field class="w-100">
                <mat-label>Extra Information</mat-label>
                <textarea matInput formControlName="extraDescription"></textarea>
              </mat-form-field>
        </div>
    </div>
    <hr>
    <!-- <div class="row"> -->
        <h3><strong>Enter Price of Packages that you serve:</strong></h3>
        <div formArrayName = "charges">
            <div *ngFor="let ch of addNewGarageForm.controls.charges.controls;let i=index">
                <div [formGroupName]="i" class="row">
                    <div class="col-sm-5">
                        <mat-form-field class="w-100">
                            <mat-label>Select Service Type</mat-label>
                            <mat-select formControlName="chargeId">
                                <mat-option *ngFor="let item of serviceTypes" [value]="item.id">{{item.name}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-sm-5">
                        <mat-form-field class="w-100">
                            <mat-label>Car Service Charge</mat-label>
                            <input matInput formControlName="price" type="number">
                        </mat-form-field>
                    </div>
                    <div class="col-1" *ngIf="addNewGarageForm.controls.charges.value.length != 1">
                        <button mat-icon-button class="bg-danger text-white" (click) = "removeservice(i)">
                            <mat-icon>remove_circle_outline</mat-icon>
                        </button>
                    </div>
                    <div class="col-1" *ngIf="i==addNewGarageForm.controls.charges.value.length-1">
                        <button mat-icon-button class="bg-success text-white" (click) = "addNewCharges()">
                            <mat-icon>add_circle_outline</mat-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    <!-- </div> -->
    <div class="text-center">
        <button mat-raised-button color="accent" (click) = "onsubmit()">Submit</button>
    </div>
    <!-- <button (click) = "onsubmit()">Submit</button> -->
</form>
</div>